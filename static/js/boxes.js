// Generated by CoffeeScript 1.8.0
(function() {
  var button, content_shade, main_menu, main_menu_active, _i, _len, _ref;

  this.ws = new ReconnectingWebSocket("ws://" + document.location["host"] + "/ws");

  main_menu_active = false;

  main_menu = document.getElementById("main-menu");

  content_shade = document.getElementById("content-shade");

  content_shade.origZIndex = parseInt(window.getComputedStyle(content_shade)['zIndex']);

  this.open_main_menu = function() {
    content_shade.style.zIndex = content_shade.origZIndex + 2;
    content_shade.style.backgroundColor = "rgba(0, 0, 0, 0.6)";
    main_menu.style.left = "0px";
    return main_menu_active = true;
  };

  this.close_main_menu = function() {
    content_shade.style.zIndex = content_shade.origZIndex;
    content_shade.style.backgroundColor = "transparent";
    main_menu.style.left = "-66.66666vw";
    return main_menu_active = false;
  };

  this.switch_main_menu = function() {
    if (main_menu_active) {
      return close_main_menu();
    } else {
      return open_main_menu();
    }
  };

  this.switchToPanel = function(panel_id) {
    return function() {
      var panel, _i, _len, _ref;
      _ref = document.querySelectorAll(".panel");
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        panel = _ref[_i];
        panel.style.display = "none";
      }
      document.getElementById(panel_id).style.display = "block";
      close_main_menu();
      document.body.scrollTop = 0;
      return document.documentElement.scrollTop = 0;
    };
  };

  document.getElementById("main-menu-button").addEventListener("click", this.switch_main_menu);

  _ref = document.querySelectorAll(".main-menu-item");
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    button = _ref[_i];
    button.addEventListener("click", this.switchToPanel(button.dataset.panelId));
  }

}).call(this);

//# sourceMappingURL=boxes.js.map
