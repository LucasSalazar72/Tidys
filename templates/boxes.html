{% extends "layout.html" %}

{% block header %}
    {{ add_ext_file('css/boxes.css') }}
    {{ add_ext_file('js/boxes.js') }}
    
    <button type="button" id="main-menu-button"
            onClick="switch_main_menu()">
        <img src="{{ static_url('images/main-menu.svg') }}">
    </button>
{% end %}

{% block free_content %}
    <div id="content-shade" onClick="close_main_menu()"></div>
    
    <nav id="main-menu">
        {% for panel in panels.values() %}
            <button type="button" class="main-menu-button"
                    onClick="switchToPanel({{ panel._id }})">
                {{ panel.name }}
            </button>
        {% end %}
    </nav>

    {% for panel in panels.items() %}
        <section class="panel" id="{{ panel[1]._id }}">
            {% module panel[0]() %}
        </section>
    {% end %}
{% end %}
